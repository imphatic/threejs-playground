<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8>
    <title>Drawing Lines</title>
    <style>
        body { margin: 0; }
        canvas { width: 100%; height: 100% }
    </style>
</head>
<body>
<script src="/js/three.js"></script>
<script>

    // Basic setup
    var scene = new THREE.Scene();
    var camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 500);
    camera.position.set(0, 0, 100);
    camera.lookAt(new THREE.Vector3(0, 0, 0));

    var renderer = new THREE.WebGLRenderer();
    renderer.setSize( window.innerWidth, window.innerHeight );
    document.body.appendChild( renderer.domElement );


    //create a blue LineBasicMaterial
    var material = new THREE.LineBasicMaterial({ color: 0x0000ff });
    var geometry = new THREE.Geometry();
    geometry.vertices.push(new THREE.Vector3(-20, 0, 0));
    geometry.vertices.push(new THREE.Vector3(0, 20, 0));
    geometry.vertices.push(new THREE.Vector3(20, 0, 0));
    geometry.vertices.push(new THREE.Vector3(6, 0, 0));
    geometry.vertices.push(new THREE.Vector3(6, -20, 0));
    geometry.vertices.push(new THREE.Vector3(-6, -20, 0));
    geometry.vertices.push(new THREE.Vector3(-6, 0, 0));
    geometry.vertices.push(new THREE.Vector3(-20, 0, 0));
    var line = new THREE.Line(geometry, material);

    scene.add(line);
    renderer.render(scene, camera);

    var step_rate = 1;
    var animationSteps = {
        1: {
            x:-20, y:0
        },
        2: {
            x:0, y:20
        },
        3: {
            x:20, y:0
        },
        4: {
            x:6, y:0
        },
        5: {
            x:6, y:-20
        },
        6: {
            x:-6, y:-20
        },
        7: {
            x:-6, y:0
        },
        8: {
            x:-20, y:0
        }
    };

    function setAnimation(step, percent)
    {
        // Create starting point

        // Animate to next steps point

        // If last point then stop or restart
    }

    var frame = 0;
    var step = 0;

    function render()
    {
        frame = (frame == 60) ? 1 : frame + 1;
        percent = frame/60;
        time = frame/60;

        //modulo operation
        if(time % 1 == 0)
        {
            step++;
        }

        if(typeof animationSteps[step] !== 'undefined' )
        {
            setAnimation(step, percent);
        }

        requestAnimationFrame(render);
    }
    render();


</script>
</body>
</html>